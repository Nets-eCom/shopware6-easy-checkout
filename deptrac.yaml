deptrac:
  paths:
    - ./src
    - ./tests
  layers:
    - name: Plugin
      collectors:
        - type: bool
          must:
            - type: classLike
              value: .*NexiNets\\
          must_not:
            - type: directory
              value: src/CheckoutApi
    - name: CheckoutApi
      collectors:
        - type: directory
          value: src/CheckoutApi
    - name: DomainVendor
      collectors:
        - type: classLike
          value: .*Psr\\
    - name: Vendor
      collectors:
          - type: classLike
            value: ^(Shopware\\|PHPUnit|Symfony|Doctrine|libphonenumber)
  ruleset:
    Plugin:
      - CheckoutApi
      - Vendor
      - DomainVendor
    CheckoutApi:
      - DomainVendor
